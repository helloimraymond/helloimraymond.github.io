<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equic="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Portfolio</title>
  <link rel="icon" type="image/png" href="images/rz.png">
  <link rel="stylesheet" href="styles.css">
  <script>
  // Inline JavaScript logic here
  </script>
  <script src="script.js" defer></script>
  <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@700&display=swap" rel="stylesheet">

  <style>
        body {
            animation: fadeInAnimation ease 1s;
            animation-iteration-count: 1;
            animation-fill-mode: forwards;
        }
        @keyframes fadeInAnimation {
            0% {
                opacity: 0;
            }

            100% {
                opacity: 1;
            }
        }
        footer ul, footer ul li {
  font-family: 'Outfit-Light', 'Outfit', sans-serif !important;
  font-weight: 400 !important;
  color: #fff !important;
}

/* Center all footer content and text */
footer > div {
  justify-content: center !important;
  text-align: center !important;
}

footer h4
{
  text-align: center !important;
  margin-left: auto !important;
  margin-right: auto !important;
  margin-bottom: 1em !important;
}

footer ul,
footer ul li,
footer ul li a {
  text-align: center !important;
  margin-left: auto !important;
  margin-right: auto !important;
  margin-bottom: 0.75em !important;
}

footer ul {
  display: inline-block !important;
  padding-left: 0 !important;
}

footer > div > div {
  align-items: center !important;
}

/* Optional: On mobile, stack columns vertically */
@media (max-width: 700px) {
  footer > div {
    flex-direction: column !important;
    gap: 1.5em !important;
  }
}

footer > div {
  justify-content: center !important;
  text-align: center !important;
  gap: 5em !important; /* Increase gap between columns */
}

footer > div > div {
  align-items: flex-start !important; /* Align columns to the top for evenness */
  min-width: 180px;
}

@media (max-width: 900px) {
  footer > div {
    gap: 2em !important;
  }
  footer > div > div {
    min-width: 0;
  }
}

.sketch-grid {
  display: grid;
  grid-template-columns: repeat(5, 1fr);
  gap: 0.6em;
  margin-top: 1em;
}

.sketch-item {
  position: relative;
  overflow: hidden;
}

.sketch-item img {
  width: 100%;
  aspect-ratio: 1 / 1;
  object-fit: cover;
  border-radius: 0px;
  box-shadow: 0 2px 12px rgba(0,0,0,0.08);
  background: #f8f8f8;
  display: block;
}

/* Slightly round only images in Explore My Work and Sketch Lab sections */
#portfolio .work img,
#sketch-lab .sketch-item img {
  border-radius: 3px;
}

/* Overlay for Sketch Lab images */
.sketch-item .sketch-overlay {
  position: absolute;
  inset: 0;
  background: rgba(20, 20, 20, 0.72);
  color: #fff;
  display: flex;
  align-items: center;
  justify-content: center;
  opacity: 0;
  transition: opacity 0.22s;
  font-family: 'Outfit-Bold', 'Outfit', sans-serif;
  font-size: 1.38rem;
  text-align: center;
  padding: 0.5em;
  pointer-events: none; /* Prevent interaction */
}

.sketch-item:hover .sketch-overlay,
.sketch-item:focus-within .sketch-overlay {
  opacity: 1;
}

/* Responsive: 3 columns on tablet, 2 on mobile */
@media (max-width: 1100px) {
  .sketch-grid {
    grid-template-columns: repeat(3, 1fr);
  }
}
@media (max-width: 700px) {
  .sketch-grid {
    grid-template-columns: repeat(2, 1fr);
  }
}

/* Reduce space above The Sketch Lab section */
#sketch-lab {
  margin-top: 1.5em !important; /* Reduce from default, adjust as needed */
}

#sketch-lab .container3 {
  padding-top: 0 !important;
}

#sketch-lab .sub-title {
  margin-top: 0 !important;
}

/* Only affect Sketch Lab image gallery margins at small sizes */
@media (max-width: 900px) {
  #sketch-lab .sketch-grid {
    margin-left: 0 !important;
    margin-right: 0 !important;
    width: auto !important;
  }
}
@media (max-width: 700px) {
  #sketch-lab .sketch-grid {
    margin-left: 3vw !important;
    margin-right: 3vw !important;
  }
}

/* Add to your CSS for Sketch Lab overlays */
.sketch-overlay > div {
  width: 100%;
}

.sketch-title {
  font-family: 'Outfit-Bold', 'Outfit', sans-serif;
  font-size: 1.38rem;
  margin-bottom: 0.3em;
}

.sketch-tools {
  font-family: 'Outfit-Regular', 'Outfit', sans-serif;
  font-size: 0.98rem;
  opacity: 0.85;
  margin-bottom: 0;
}

/* Ensure popup video matches popup image dimensions */
#portfolio-popup .popup-main-image video#main-popup-video {
  width: 100%;
  max-height: 70vh; /* Match the image popup's max height */
  object-fit: contain;
  border-radius: 3px;
  display: block;
  background: #111;
}

/* Zoom effect for popup images */
.popup-main-image img.zoomed {
  cursor: zoom-out;
  transform: scale(2);
  transition: transform 0.3s;
  z-index: 10;
}
.popup-main-image img {
  cursor: zoom-in;
  transition: transform 0.3s;
}

.work img:hover,
.work img:focus,
.work video:hover,
.work video:focus {
  transform: scale(1.03);
  transition: transform 0.22s;
  z-index: 2;
}
.work img,
.work video {
  transition: transform 0.22s;
}
  </style>
</head>
<body>
  <div id="header">
    <div class="container">
      <nav>
        <a href="index.html"><img src="images/logo.png" class="logo"></a>
        <ul>
          <li><a href="index.html">WORK</a></li>
          <li><a href="about.html">ABOUT</a></li>
          <li><a href="contact.html"><span id="contact_link">CONTACT</span></a></li>
        </ul>
        <div class="hamburger" id="hamburger-menu">
          <span></span>
          <span></span>
          <span></span>
        </div>
      </nav>
    </div> 
  </div>
    <div class="container2">
      <div class="header-text">
        <p>
          <span id="typewriter-dash">â€•</span>
          <span id="typewriter-text" class="loading-dots"></span>
        </p>
        <h1>I am <span>Raymond</span>; a biomedical communicator, <br>visual journalist, and science storyteller.</h1>
      </div>
    </div>
<!-----------portfolio---------->
<div id="portfolio">
  <div class="container3">
    <h1 class="sub-title">Explore My Work<span>.</span></h1>
    <div class="work-list">
      
      <!--<div class="work">
        <img src="images/demo.png" class="fade-in">
        <div class="layer-case">
          <h3>Animation Showreel 2025</h3>
          <p>VARIOUS ANIMATION WORKS</p>
          <div class="buttons">
            <button class="demo-btn" onclick="window.open('demo-reel.html', '_blank')">VIEW SHOWREEL HERE</button>
          </div>
        </div>
      </div>-->
      
      <div class="work">
        <img src="images/bimaristan.png" class="fade-in">
        <div class="layer-case">
          <h3>Bimaristans: Hospitals of Yore</h3>
          <p>3D MODELLING &#40;MAYA, SKETCHUP, C4D&#41;, ILLUSTRATION, INFOGRAPHIC DESIGN</p>
          <div class="buttons">
            <button class="gallery-btn" data-gallery="images/bimaristan.png, images/bimaristan-mockup.png">GALLERY</button>
            <a href="bimaristan3.html" class="case-study-btn">CASE STUDY</a>
          </div>
        </div>
      </div>

      <div class="work">
      <video src="images/bloodflow.mp4"
        autoplay
        loop
          muted
          playsinline
          class="fade-in"
          style="width:100%; object-fit:cover; border-radius:3px; display:block;"
          id="bloodflow-video">
        </video>
        <div class="layer" data-gallery="images/bloodflow.mp4|images/bloodflow-thumb.png, images/bloodflow-process.png">
          <h3>Blood Flow Animation</h3>
          <p>3D ANIMATION &#40;C4D&#41;, COMPOSITING &#40;AFTER EFFECTS&#41;</p>
        </div>
      </div>

      <div class="work">
        <img src="images/anglerfish.png" class="fade-in">
        <div class="layer-case">
          <h3>Anglerfish: Angels of the Deep</h3>
          <p>3D SCULPTING &#40;ZBRUSH&#41;, LIGHTING & MATERIALS &#40;MAYA&#41;</p>
          <div class="buttons">
            <button class="gallery-btn" data-gallery="images/anglerfish.png, images/anglerfish-final3.png, images/anglerfish-final5.png">GALLERY</button>
            <a href="anglerfish.html" class="case-study-btn">CASE STUDY</a>
          </div>
        </div>
      </div>

      <div class="work">
      <video src="images/sars.mp4"
        autoplay
        loop
          muted
          playsinline
          class="fade-in"
          style="width:100%; object-fit:cover; border-radius:3px; display:block;"
          id="sars-video">
        </video>
        <div class="layer" data-gallery="images/sars.mp4|images/sars-thumb.png, images/sars-process.png">
          <h3>SARS-CoV-2 Animation</h3>
          <p>3D ANIMATION &#40;C4D&#41;, COMPOSITING &#40;AFTER EFFECTS&#41;, PDB</p>
        </div>
      </div>

      <!--<div class="work">
        <img src="images/measles.png" class="fade-in">
        <div class="layer-case">
          <h3>Measles Virus: Animated Infographic</h3>
          <p>3D MODELLING, MOLECULAR VIZ</p>
          <div class="buttons">
            <button class="gallery-btn" data-gallery="images/bimaristan.png, images/bimaristan-mockup.png">GALLERY</button>
            <a href="bimaristan3.html" class="case-study-btn">CASE STUDY</a>
          </div>
        </div>
      </div>-->
      
      <!--<div class="work">
        <img src="images/tibetan-test.png" class="fade-in">
        <div class="layer-case">
          <h3>Molecules in Thin Air: EPAS1 & EGLN1</h3>
          <p>3D MODELLING, MOLECULAR VIZ</p>
          <div class="buttons">
            <button class="gallery-btn" data-gallery="images/bimaristan.png, images/bimaristan-mockup.png">GALLERY</button>
            <a href="bimaristan3.html" class="case-study-btn">CASE STUDY</a>
          </div>
        </div>
      </div>-->

    

    <div class="work">
        <img src="images/dermalert.png" class="fade-in">
        <div class="layer-case">
          <h3>DermAlert: Skincare Product Repository</h3>
          <p>EXPERIENCE DESIGN &#40;FIGMA, ILLUSTRATOR&#41;</p>
          <div class="buttons">
            <button class="gallery-btn" data-gallery="images/dermalert.png, images/dermalert_mockup3.png, images/dermalert-viz1.png, images/dermalert-viz2.png">GALLERY</button>
            <a href="dermalert3.html" class="case-study-btn">CASE STUDY</a>
          </div>
        </div>
      </div>

      <div class="work">
      <video src="images/nkcell.mp4"
        autoplay
        loop
          muted
          playsinline
          class="fade-in"
          style="width:100%; object-fit:cover; border-radius:3px; display:block;"
          id="nkcell-video">
        </video>
        <div class="layer" data-popup="images/nkcell.mp4">
          <h3>Natural Killer Cell Animation</h3>
          <p>3D ANIMATION &#40;C4D&#41;, COMPOSITING &#40;AFTER EFFECTS&#41;, PDB</p>
        </div>
      </div>

      <div class="work">
        <img src="images/kidney.png" class="fade-in">
        <div class="layer-case">
          <h3>Kidney Section: Show Me the Unseeable</h3>
          <p>ILLUSTRATION &#40;PHOTOSHOP&#41;, 3D MODELLING &#40;ZBRUSH, MAYA&#41;</p>
          <div class="buttons">
            <button class="gallery-btn" data-gallery="images/kidney-final.png, images/kidney-final4.png">GALLERY</button>
            <a href="kidney3.html" class="case-study-btn">CASE STUDY</a>
          </div>
        </div>
      </div>

      <div class="work">
      <video src="images/membrane.mp4"
        autoplay
        loop
          muted
          playsinline
          class="fade-in"
          style="width:100%; object-fit:cover; border-radius:3px; display:block;"
          id="nkcell-video">
        </video>
        <div class="layer" data-popup="images/membrane.mp4">
          <h3>Membrane Transport Animation</h3>
          <p>3D ANIMATION &#40;C4D&#41;, COMPOSITING &#40;AFTER EFFECTS&#41;, PDB</p>
        </div>
      </div>

      <div class="work">
        <img src="images/sperm.png" class="fade-in">
        <div class="layer" data-popup="images/sperm-final.png">
          <h3>Seeds of Life: Mapping Sperm Count Across Countries</h3>
          <p>DATAVIZ, INFOGRAPHIC DESIGN &#40;ILLUSTRATOR&#41;</p>
        </div>
          <!--<div class="buttons">
            <button class="gallery-btn" data-gallery="images/sperm-final.png">GALLERY</button>
            <a href="sperm3.html" class="case-study-btn">CASE STUDY</a>
          </div>-->
        
      </div>
      
      <!--<div class="work">
        <img src="images/abdomen1.png" class="fade-in">
        <div class="layer" data-popup="images/abdomen-final.jpg">
          <h3>Abdominal Cavity: Raster Illustration</h3>
          <p>MEDICAL ILLUSTRATION</p>
        </div>
      </div>

      <div class="work">
        <img src="images/molecularv2.png" class="fade-in">
        <div class="layer" data-popup="images/molecularv2.png">
          <h3>HIF-2A/B Complex: Molecular Visualization</h3>
          <p>MOLECULAR VIZ, 3D MODELLING</p>
        </div>
      </div>-->

      <div class="work">
      <video src="images/wbc.mp4"
        autoplay
        loop
          muted
          playsinline
          class="fade-in"
          style="width:100%; object-fit:cover; border-radius:3px; display:block;"
          id="nkcell-video">
        </video>
        <div class="layer" data-gallery="images/wbc.mp4|images/wbc-thumb.png, images/wbc-process.png">
          <h3>Lymphocyte Animation</h3>
          <p>3D ANIMATION &#40;C4D&#41;, COMPOSITING &#40;AFTER EFFECTS&#41;</p>
        </div>
      </div>

      <div class="work">
        <img src="images/rat.png" class="fade-in">
        <div class="layer" data-gallery="images/rat-final.jpg, images/rat-final2.png, images/rat-final3.png">
          <h3>Ratticus Norvegicus Skull</h3>
          <p>DICOM DATA SCULPT &#40;3D SLICER&#41;, UV MAPPING &#40;ZBRUSH&#41;, LIGHTING & MATERIALS &#40;C4D&#41;</p>
        </div>
      </div>

      <div class="work">
        <img src="images/popfoss.png" class="fade-in">
        <div class="layer" data-gallery="images/popfoss-final.png, images/popfoss-final2.png">
          <h3>Popliteal Fossa: Vector Illustration</h3>
          <p>ILLUSTRATION &#40;ILLUSTRATOR&#41;</p>
        </div>
      </div>

      

      <div class="work">
      <video src="images/ims.mp4"
        autoplay
        loop
          muted
          playsinline
          class="fade-in"
          style="width:100%; object-fit:cover; border-radius:3px; display:block;"
          id="ims-video">
        </video>
        <div class="layer" data-gallery="images/ims1.png, images/ims2.png, images/ims3.png, images/ims4.png">
          <h3>IMS Magazine Spreads</h3>
          <p>ILLUSTRATION &#40;ILLUSTRATOR&#41;, GRAPHIC DESIGN &#40;INDESIGN&#41;</p>
        </div>
      </div>

      <div class="work">
        <img src="images/yearbook.png" class="fade-in">
        <div class="layer" data-gallery="images/yearbook-final.png, images/yearbook-final2.png">
          <h3>2024 Yearbook Cover</h3>
          <p>GRAPHIC DESIGN, ILLUSTRATION &#40;ILLUSTRATOR, PROCREATE&#41;</p>
        </div>
      </div>

      <div class="work">
        <img src="images/nanobot.png" class="fade-in">
        <div class="layer" data-popup="images/nanobot-final.PNG">
          <h3>Cancer's Nano-Nemesis</h3>
          <p>3D MODELLING, LIGHTING & MATERIALS &#40;MAYA&#41;</p>
        </div>
      </div>


      <!--<div class="work">
        <img src="images/molecular.png" class="fade-in">
        <div class="layer" data-gallery="images/molecular-one.png, images/molecular1.png, images/molecular2.png, images/molecular3.png">
          <h3>Molecular Visualization: Mini Infographics</h3>
          <p>MOLECULAR VIZ, 3D MODELLING</p>
        </div>
      </div>

      <div class="work">
        <img src="images/skull.png" class="fade-in">
        <div class="layer" data-gallery="images/skull.png, images/skull1.png">
          <h3>Human Skull: Oblique View</h3>
          <p>CARBON DUST</p>
        </div>
      </div>-->

    </div>
    
    <div class="popup-gallery" id="portfolio-popup">
      <span id="close-portfolio-popup">&times;</span>
      <div class="popup-main-image">
        <img src="" alt="Popup Image" id="main-popup-image">
      </div>
      <div class="popup-thumbnails" id="popup-thumbnails">
        <!-- Thumbnails will be dynamically added here -->
      </div>
    </div>

  </div>
</div>
<!---------contact------
<div id="contact">
  <div class="container3">
    <div class="row">
      <div class="contact-left">
        <h1 class="sub-title">Contact Me</h1>
        <p>contact@example.com</p>
        <p>0123456789</p>
        <div class="social-icons">

      </div>
      <div class="contact-right"></div>
    </div>
  </div>
</div>-->


  <div id="sketch-lab">
  <div class="container3">
    <h1 class="sub-title">Render Lab<span>.</span></h1>
    <div class="sketch-grid">
      <!--<div class="sketch-item">
        <video src="images/sketch000.mp4" autoplay loop muted playsinline style="width:100%; aspect-ratio:1/1; object-fit:cover; border-radius:3px; display:block;"></video>
        <div class="sketch-overlay">
          <div>
            <div class="sketch-title">Corona Chronicles</div>
            <div class="sketch-tools">Maxon Cinema4D</div>
          </div>
        </div>
      </div>-->
      
      <div class="sketch-item">
        <img src="images/sketch0000.png" alt="Sketch 0000">
        <div class="sketch-overlay">
          <div>
            <div class="sketch-title">Plumpy Peaches</div>
            <div class="sketch-tools">Maxon Cinema4D</div>
          </div>
        </div>
      </div>

      

      <div class="sketch-item">
        <img src="images/sketch00.png" alt="Sketch 00">
        <div class="sketch-overlay">
          <div>
            <div class="sketch-title">Organic Orbs</div>
            <div class="sketch-tools">Maxon Cinema4D</div>
          </div>
        </div>
      </div>

      
      

      <div class="sketch-item">
        <img src="images/sketch1.png" alt="Sketch 1">
        <div class="sketch-overlay">
          <div>
            <div class="sketch-title">Crimson Currents</div>
            <div class="sketch-tools">Autodesk Maya</div>
          </div>
        </div>
      </div>

      <div class="sketch-item">
        <img src="images/sketch9.png" alt="Sketch 7">
        <div class="sketch-overlay">
          <div>
            <div class="sketch-title">Protein Puffs</div>
            <div class="sketch-tools">Maxon Cinema4D</div>
          </div>
        </div>
      </div>

      <div class="sketch-item">
        <video src="images/sketch00000.mp4" autoplay loop muted playsinline style="width:100%; aspect-ratio:1/1; object-fit:cover; border-radius:3px; display:block;"></video>
        <div class="sketch-overlay">
          <div>
            <div class="sketch-title">Endoscopic Exploration</div>
            <div class="sketch-tools">Maxon Cinema4D</div>
          </div>
        </div>
      </div>

      

      <div class="sketch-item">
        <img src="images/sketch6.png" alt="Sketch 6">
        <div class="sketch-overlay">
          <div>
            <div class="sketch-title">Berry Blooms</div>
            <div class="sketch-tools">Maxon Cinema4D</div>
          </div>
        </div>
      </div>

      <div class="sketch-item">
        <img src="images/sketch3.png" alt="Sketch 3">
        <div class="sketch-overlay">
          <div>
            <div class="sketch-title">Neural Nexus</div>
            <div class="sketch-tools">Maxon Cinema4D</div>
          </div>
        </div>
      </div>

      

      
      
      <div class="sketch-item">
        <video src="images/sketch0.mp4" autoplay loop muted playsinline style="width:100%; aspect-ratio:1/1; object-fit:cover; border-radius:3px; display:block;"></video>
        <div class="sketch-overlay">
          <div>
            <div class="sketch-title">Biotic Bulbs</div>
            <div class="sketch-tools">Maxon Cinema4D</div>
          </div>
        </div>
      </div>
      
      

      <!--<div class="sketch-item">
        <video src="images/sketch2.mp4" autoplay loop muted playsinline style="width:100%; aspect-ratio:1/1; object-fit:cover; border-radius:3px; display:block;"></video>
        <div class="sketch-overlay">
          <div>
            <div class="sketch-title">Watcher in White</div>
            <div class="sketch-tools">Autodesk Maya</div>
          </div>
        </div>
      </div>
      
      <div class="sketch-item">
        <img src="images/sketch4.png" alt="Sketch 4">
        <div class="sketch-overlay">
          <div>
            <div class="sketch-title">Surface Study</div>
            <div class="sketch-tools">Maxon Cinema4D</div>
          </div>
        </div>
      </div>-->

      <div class="sketch-item">
        <img src="images/sketch5.png" alt="Sketch 5">
        <div class="sketch-overlay">
          <div>
            <div class="sketch-title">Textural Tinkerings</div>
            <div class="sketch-tools">Maxon Cinema4D</div>
          </div>
        </div>
      </div>

      <!--<div class="sketch-item">
        <img src="images/sketch5.png" alt="Sketch 5">
        <div class="sketch-overlay">
          <div>
            <div class="sketch-title">Sketch Title 5</div>
            <div class="sketch-tools">Your Tools Here</div>
          </div>
        </div>
      </div>-->
      <!-- Add more .sketch-item divs as needed -->
    </div>
  </div>
</div>
  <footer style="background:#111; border-top:1px solid #222; padding: 3em 0 2em 0; margin-top:4em;">
  <div style="max-width:1200px; margin:0 auto; display:flex; flex-wrap:wrap; justify-content:space-between; gap:2.5em; padding:0 7vw;">
    <!-- Navigation -->
    <div>
      <h4 style="font-family:'Outfit-Bold',sans-serif; font-size:1.1em; margin-bottom:0.7em; color:#fff;">Navigation</h4>
      <ul style="list-style:none; padding:0; margin:0;">
        <li><a href="index.html" style="color:#00C47C; text-decoration:none; font-family:'Outfit-Regular',sans-serif;">Home</a></li>
        <li><a href="about.html" style="color:#00C47C; text-decoration:none; font-family:'Outfit-Regular',sans-serif;">About</a></li>
        <li><a href="contact.html" style="color:#00C47C; text-decoration:none; font-family:'Outfit-Regular',sans-serif;">Contact</a></li>
      </ul>
    </div>
    <!-- Services -->
    <div>
      <h4 style="font-family:'Outfit-Bold',sans-serif; font-size:1.1em; margin-bottom:0.7em; color:#fff;">Services</h4>
      <ul style="list-style:none; padding:0; margin:0; color:#fff; font-family:'Outfit-Regular',sans-serif;">
        <li>Medical Illustration</li>
        <li>Infographic Design</li>
        <li>3D Modelling</li>
        <li>Data Visualization</li>
      </ul>
    </div>
    <!-- Contact Info -->
    <div>
      <h4 style="font-family:'Outfit-Bold',sans-serif; font-size:1.1em; margin-bottom:0.7em; color:#fff;">Contact</h4>
      <ul style="list-style:none; padding:0; margin:0;">
        <li>
          <a href="mailto:rayxz2020@gmail.com" style="color:#00C47C; text-decoration:none; font-family:'Outfit-Regular',sans-serif;">
            rayxz2020@gmail.com
          </a>
        </li>
        <li>
          <a href="https://www.linkedin.com/in/raymond-x-zhang" target="_blank" rel="noopener" style="color:#00C47C; text-decoration:none; font-family:'Outfit-Regular',sans-serif;">
            LinkedIn
          </a>
        </li>
        <li>
          <a href="https://www.instagram.com/xayd.zhang/" target="_blank" rel="noopener" style="color:#00C47C; text-decoration:none; font-family:'Outfit-Regular',sans-serif;">
            Instagram
          </a>
        </li>
      </ul>
    </div>
  </div>
  <div style="text-align:center; color:#aaa; font-size:0.98em; margin-top:2.5em; font-family:'Outfit-Regular',sans-serif;">
    &copy; 2025 Raymond Zhang. All rights reserved.
  </div>
</footer>

  <script>
document.addEventListener("DOMContentLoaded", function() {
  // Attach click event listeners to all .layer and .gallery-btn elements
  document.querySelectorAll('.layer, .gallery-btn').forEach(el => {
    el.addEventListener('click', function(e) {
      e.preventDefault();
      openPopup(el);
    });
  });

  function openPopup(trigger) {
    const popup = document.getElementById('portfolio-popup');
    const mainImage = document.getElementById('main-popup-image');
    const thumbnailsContainer = document.getElementById('popup-thumbnails');

    // Remove any previous video in the popup
    const oldVideo = popup.querySelector('#main-popup-video');
    if (oldVideo) oldVideo.remove();

    // Get gallery attribute (supports custom video thumbnails)
    const galleryMedia = trigger.getAttribute('data-gallery');
    const popupImageSrc = trigger.getAttribute('data-popup');

    thumbnailsContainer.innerHTML = '';

    if (galleryMedia) {
      // Format: "media1|thumb1,media2|thumb2,media3"
      const mediaItems = galleryMedia.split(',').map(item => {
        const parts = item.trim().split('|');
        return {
          media: parts[0].trim(),
          thumb: parts[1] ? parts[1].trim() : parts[0].trim()
        };
      });

      // Show first media item
      showMediaInPopup(mediaItems[0].media, popup, mainImage);

      // Add thumbnails
      mediaItems.forEach(({media, thumb}, idx) => {
        const thumbnail = document.createElement('img');
        thumbnail.src = thumb;
        thumbnail.alt = 'Thumbnail';
        thumbnail.style.width = '60px';
        thumbnail.style.height = '60px';
        thumbnail.style.objectFit = 'cover';
        thumbnail.style.borderRadius = '3px';
        thumbnail.style.cursor = 'pointer';
        thumbnail.addEventListener('click', function(e) {
          e.stopPropagation();
          showMediaInPopup(media, popup, mainImage);
        });
        thumbnailsContainer.appendChild(thumbnail);
      });
    } else if (popupImageSrc) {
      showMediaInPopup(popupImageSrc, popup, mainImage);
      thumbnailsContainer.innerHTML = '';
    }

    popup.style.display = 'flex';
    setTimeout(() => popup.classList.add('active'), 10);
  }

  function showMediaInPopup(mediaSrc, popup, mainImage) {
    const popupMainImageDiv = popup.querySelector('.popup-main-image');
    // Remove all children (image and video) from popup-main-image
    while (popupMainImageDiv.firstChild) {
      popupMainImageDiv.removeChild(popupMainImageDiv.firstChild);
    }

    if (mediaSrc.match(/\.(mp4|webm|ogg)$/i)) {
      // Show video
      const popupVideo = document.createElement('video');
      popupVideo.id = 'main-popup-video';
      popupVideo.src = mediaSrc;
      popupVideo.autoplay = true;
      popupVideo.loop = true;
      popupVideo.muted = true;
      popupVideo.playsInline = true;
      popupVideo.style.width = '100%';
      popupVideo.style.maxHeight = '70vh';
      popupVideo.style.borderRadius = '3px';
      popupVideo.style.display = 'block';
      popupVideo.style.objectFit = 'contain';
      popupVideo.load();
      popupMainImageDiv.appendChild(popupVideo);
    } else {
      // Show image
      const img = document.createElement('img');
      img.src = mediaSrc;
      img.alt = 'Popup Image';
      img.style.width = '100%';
      img.style.maxHeight = '70vh';
      img.style.borderRadius = '3px';
      img.style.display = 'block';
      img.style.objectFit = 'contain';
      popupMainImageDiv.appendChild(img);
    }
  }

  // Close logic
  document.getElementById('close-portfolio-popup').onclick = function() {
    const popup = document.getElementById('portfolio-popup');
    popup.classList.remove('active');
    setTimeout(() => {
      popup.style.display = 'none';
      // Remove video if present
      const oldVideo = popup.querySelector('#main-popup-video');
      if (oldVideo) oldVideo.remove();
      document.getElementById('main-popup-image').style.display = '';
    }, 300);
  };
  document.getElementById('portfolio-popup').addEventListener('click', function(e) {
    if (e.target === e.currentTarget) {
      const popup = document.getElementById('portfolio-popup');
      popup.classList.remove('active');
      setTimeout(() => {
        popup.style.display = 'none';
        const oldVideo = popup.querySelector('#main-popup-video');
        if (oldVideo) oldVideo.remove();
        document.getElementById('main-popup-image').style.display = '';
      }, 300);
    }
  });

  // Enable zoom on popup image
  document.addEventListener('click', function(e) {
    const popupMainImageDiv = document.querySelector('.popup-main-image');
    if (!popupMainImageDiv) return;

    // Only zoom if the popup is open and the clicked element is an image inside the popup
    if (
      document.getElementById('portfolio-popup').classList.contains('active') &&
      e.target.tagName === 'IMG' &&
      popupMainImageDiv.contains(e.target)
    ) {
      e.target.classList.toggle('zoomed');
    }
  });

  // Add click event for Render Lab images
  document.querySelectorAll('#sketch-lab .sketch-item img').forEach(img => {
    img.addEventListener('click', function(e) {
      // Open the popup with the clicked image
      openSketchLabPopup(img.src, img.alt || 'Render Lab Image');
    });
  });

  // (Optional) If you want videos to pop up as well:
  document.querySelectorAll('#sketch-lab .sketch-item video').forEach(video => {
    video.addEventListener('click', function(e) {
      openSketchLabPopup(video.currentSrc || video.src, 'Render Lab Video', true);
    });
  });

  // Helper function for Render Lab popup
  function openSketchLabPopup(src, alt, isVideo = false) {
    const popup = document.getElementById('portfolio-popup');
    const thumbnailsContainer = document.getElementById('popup-thumbnails');
    const popupMainImageDiv = popup.querySelector('.popup-main-image');

    // Remove all children (image and video) from popup-main-image
    while (popupMainImageDiv.firstChild) {
      popupMainImageDiv.removeChild(popupMainImageDiv.firstChild);
    }

    if (isVideo || src.match(/\.(mp4|webm|ogg)$/i)) {
      // Show video
      const popupVideo = document.createElement('video');
      popupVideo.id = 'main-popup-video';
      popupVideo.src = src;
      popupVideo.autoplay = true;
      popupVideo.loop = true;
      popupVideo.muted = true;
      popupVideo.playsInline = true;
      popupVideo.style.width = '100%';
      popupVideo.style.maxHeight = '70vh';
      popupVideo.style.borderRadius = '3px';
      popupVideo.style.display = 'block';
      popupVideo.style.objectFit = 'contain';
      popupVideo.load();
      popupMainImageDiv.appendChild(popupVideo);
    } else {
      // Show image
      const img = document.createElement('img');
      img.src = src;
      img.alt = alt;
      img.style.width = '100%';
      img.style.maxHeight = '70vh';
      img.style.borderRadius = '3px';
      img.style.display = 'block';
      img.style.objectFit = 'contain';
      popupMainImageDiv.appendChild(img);
    }

    // Hide thumbnails for single image/video popup
    thumbnailsContainer.innerHTML = '';

    popup.style.display = 'flex';
    setTimeout(() => popup.classList.add('active'), 10);
  }
});
</script>

</body>
</html>
